# v5.0

v4.4 features two new builtins, improvements in testing, and automatic generation of autocompletion suggestions backed by man page parsing. Plus there has been a lot of focus on improving _readline_ responsiveness

### Breaking Changes

* unquoted parameters that are formatted like `[alpha, numeric, underscore]\(...\)` will be parsed as a function rather than a string
* brace quotes without a leading `%` will be first parsed as an expression. eg `%(valid string)` vs `(valid expression)`

### Deprecation Warnings

This will warn you about changes to Murex defaults, however there isn't (yet) any breaking changes to application behaviour 

* `$ARGV` now preferred instead of `$ARGS` (`$ARGS` will remain supported for now)
* `command: parameters ...` style syntax has been deprecated in favour of the more traditional `command parameters ...` (without a colon) syntax. 

### Features

* new website!!
* commands can now be inlined in expressions, eg `foobar = uptime()` ([issue 676](https://github.com/lmorg/murex/issues/676))
* commands can also be inlined into statements too, eg `echo uptime()` ([issue 676](https://github.com/lmorg/murex/issues/676))
* new assignment operator `:=`, assigns a value but retains the former data type, thus converting the value when required
* new event `signalTrap` for catching OS signals
* new builtin `signal` for sending OS signals
* new builtin `which` ([issue 609](https://github.com/lmorg/murex/issues/609))
* `cd` defaults to `~` if now parameters are passed ([issue 672](https://github.com/lmorg/murex/issues/672))
* `cd -` changes to previous directory ([issue 672](https://github.com/lmorg/murex/issues/672))
* `$SELF.Interactive` value to detect if scope is running in an interactive shell ([issue 685](https://github.com/lmorg/murex/issues/685))
* `$COLUMNS` reserved variable to output width of terminal
* `$MUREX_ARGV` reserved variable to output commandline parameters of Murex shell (not to be confused with the parameters of the running function, eg `$ARGV`)
* `csv` data type and `select` builtin now support converting maps (eg JSON objects) into tables ([issue 689](https://github.com/lmorg/murex/issues/689))
* improved man page parsing
* improved man page displays in preview
* `alias` now stores `FileRef` metadata ([issue 124](https://github.com/lmorg/murex/issues/124))
* packages can now be removed via `murex-package remove` ([issue 687](https://github.com/lmorg/murex/issues/687))
* experimental: new variable group `$MOD`, like `$GLOBAL` but scoped to the module level

### Bug Fixes

* `config` functions (eg `hint-text-func`) now execute with the `FileRef` of the setter. Meaning they can call privates correctly
* scalars fail expression pre-parser ([issue 674](https://github.com/lmorg/murex/issues/674))
* readline: prompt can now span multiple lines ([issue 612](https://github.com/lmorg/murex/issues/612))
* floating point numbers were not loosely compared correctly in expressions
* readline: delay timer hint text should disappear when completed
* `$PWDHIST` was corrupting upon first update
* fixed bug with `git-commit` man page parsing, which caused the parser to hang and ramp up CPU usage on `git` autocompletions
* fixed parsing of nested quotes inside curly braces ([issue 697](https://github.com/lmorg/murex/issues/697))
* don't carry non-zero exit numbers forward if unit test successful
* fixed instances where `FileRef` either wasn't being set, wasn't being set correctly, or was missing a timestamp ([issue 696](https://github.com/lmorg/murex/issues/696))
* `printf` dependency removed from `aliases` function -- this means `aliases` now works on Windows too

<hr>

Published: 28.08.2023 at 11:00

## See Also

* [FileRef](../user-guide/fileref.md):
  How to track what code was loaded and from where
* [Modules and Packages](../user-guide/modules.md):
  An introduction to Murex modules and packages
* [`ARGV` (json)](../variables/argv.md):
  Array of the command name and parameters within a given scope
* [`COLUMNS` (int)](../variables/columns.md):
  Character width of terminal
* [`MUREX_ARGV` (json)](../variables/murex_argv.md):
  Array of the command name and parameters passed to the current shell
* [`SELF` (json)](../variables/self.md):
  Meta information about the running scope.
* [`alias`](../commands/alias.md):
  Create an alias for a command
* [`autocomplete`](../commands/autocomplete.md):
  Set definitions for tab-completion in the command line
* [`config`](../commands/config.md):
  Query or define Murex runtime settings
* [`csv`](../types/csv.md):
  CSV files (and other character delimited tables)
* [`event`](../commands/event.md):
  Event driven programming for shell scripts
* [`float` (floating point number)](../types/float.md):
  Floating point number (primitive)
* [`murex-package`](../commands/murex-package.md):
  Murex's package manager
* [`signalTrap`](../events/signaltrap.md):
  Trap OS signals
* [`signal`](../commands/signal.md):
  Sends a signal RPC
* [`which`](../commands/which.md):
  Locate command origin

<hr/>

This document was generated from [gen/changelog/v4.4_doc.yaml](https://github.com/lmorg/murex/blob/master/gen/changelog/v4.4_doc.yaml).